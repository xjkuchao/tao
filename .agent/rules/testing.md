# 测试规范

- 代码修改后必须执行 `cargo check` 与 `cargo test`.
- 如出现错误或警告, 必须先修复再继续后续修改.
- **重要**: 新增编解码器或容器格式时必须编写测试.
- 集成测试放在 `tests/` 目录下, 单元测试放在源文件内 `#[cfg(test)]` 模块中.
- 测试用例命名需要准确描述测试内容与预期结果, 使用蛇形命名法.
- 测试应覆盖正常流程, 边界情况和错误情况.
- 编解码器测试应包含: 基本编解码, 空输入, 损坏数据, flush 流程.
- 容器格式测试应包含: 格式探测, 头部解析, 数据包读取, seek.
